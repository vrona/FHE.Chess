---
id: 5rfyt
title: Castling move
file_version: 1.1.1
app_version: 1.1.4
---

Chess rules: one time possibility that two pieces move at once and over another piece (basically only knights can). At Kingside, the King moves two squares to the right while the right Rook moves two squares over the King. At Queenside, the King moves two squares to the left while the right Rook moves three squares over the King. (prerequisites: no piece must between the King and either the chosen Rook and none of them as moved yet).

<br/>

<br/>


<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ classes/board.py
```python
189                # castling
190                if not piece.moved:
191                    
192                    # queenside
193                    left_rook = self.squares[row][0].piece
194    
195                    if isinstance(left_rook, Rook):
196                        if not left_rook.moved:
197                            for c in range(1, 4):
198                                if self.squares[row][c].piece_presence(): # castling abord because of piece presence
199                                    break
200    
201                                if c == 3:
202                                    piece.left_rook = left_rook # adds left rook to queen
203                                    
204                                    # rook move to king
205                                    Move.move_from_to(left_rook, row, 0, row, 3)
206                                    # initial = Square(row, 0)
207                                    # destination = Square(row, 3)
208                                    # move_rook = Move(initial, destination)
209                                    # left_rook.add_ok_move(move_rook)
210    
211                                    # king move to rook
212                                    Move.move_from_to(piece, row, col, row, 2)
213                                    # initial = Square(row, col)
214                                    # destination = Square(row, 2)
215                                    # move_king = Move(initial, destination)
216                                    # piece.add_ok_move(move_king)
217    
218                    # kingside
219                    right_rook = self.squares[row][7].piece
220    
221                    if isinstance(right_rook, Rook):
222                        if not right_rook.moved:
223                            for c in range(5, 7):
224                                if self.squares[row][c].piece_presence(): # castling abord because of piece presence
225                                    break
226    
227                                if c == 6:
228                                    piece.right_rook = right_rook # adds right rook to king
229                                    
230                                    # rook move to king
231                                    Move.move_from_to(right_rook, row, 7, row, 5)
232                                    # initial = Square(row, 7)
233                                    # destination = Square(row, 5)
234                                    # move_rook = Move(initial, destination)
235                                    # right_rook.add_ok_move(move_rook)
236    
237                                    # king move to rook
238                                    Move.move_from_to(piece, row, col, row, 6)
239                                    # initial = Square(row, col)
240                                    # destination = Square(row, 6)
241                                    # move_king = Move(initial, destination)
242                                    # piece.add_ok_move(move_king)
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBRkhFLkNoZXNzJTNBJTNBdnJvbmE=/docs/5rfyt).
